@page "/"
@using testing_final.Logic.Models
@inject ShoppingCart CartService



<h1>iPhone World</h1>
<p>Browse the cheapest iPhone catalog and add items to your cart.</p>

<div class="product-grid">
    @foreach (var product in ProductCatalog.Products)
    {
        <div class="product-card">
            <img src="@GetProductImage(product.Name)" alt="@product.Name" />
            <h3>@product.Name</h3>
            <p>$@product.Price</p>
            <button @onclick="() => CartService.AddItem(product)">Add</button>
        </div>
    }
</div>

@code {
    private string GetProductImage(string productName)
    {
        return $"/images/{productName.ToLower().Replace(" ", "-")}.jpg";
    }
}
